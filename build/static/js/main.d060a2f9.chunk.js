(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(61)},32:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(32),a(3)),s=a(4),i=a(6),m=a(5),u=a(7),d=a(13),p=a(34),h=function(e){var t=e.title,a=e.id,n=e.posterPath,l=e.cardType;return r.a.createElement("div",{className:"col-md-4 p-1"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"Poster"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement(p.a,{className:"btn btn-primary",to:"/".concat(l,"/").concat(a)},"Details"))))},v=function(e){var t=e.data,a=e.cardType,n=e.title,l=e.posterPath;e.isRenderGallery;return t.map(function(e){return r.a.createElement(h,{key:e.id,id:e.id,title:e[n],posterPath:e[l],cardType:a})})},f=function(e){var t=e.data,a=e.cardType,n=e.title,l=e.vote;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Avg. rating"),r.a.createElement("th",{scope:"col"},"Link"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e[n]),r.a.createElement("td",null,e[l]),r.a.createElement("td",null,r.a.createElement(p.a,{className:"btn btn-primary",to:"/".concat(a,"/").concat(e.id)},"Details")))})))},E=function(e){var t=e.data,a=e.cardType,n=e.posterPath,l=e.title,c=e.isRenderGallery;return r.a.createElement("div",{className:"d-flex flex-wrap"},c?r.a.createElement(v,{data:t,title:l,posterPath:n,cardType:a}):r.a.createElement(f,{data:t,title:l,posterPath:n,cardType:a,vote:"popularity"}))},g=a(19),b=a.n(g),y=function(e){var t=[];for(var a in e)e[a]&&t.push(a);return t.join(",")},k=function(){return document.cookie.replace(/(?:(?:^|.*;\s*)userid\s*\=\s*([^;]*).*$)|^.*$/,"$1")},N=function(e){var t=e.currentPage,a=e.onClick,n=e.totalPages,l=function(e,t){return e<=5&&t<=5?b.a.range(1,t+1):e<=3&&t>5?b.a.range(1,6):t>5&&e<=t-2?b.a.range(e-2,e+3):t>5&&t-2<=e<=t?b.a.range(t-4,t+1):void 0}(t,n);return r.a.createElement("nav",{className:"d-flex justify-content-center"},r.a.createElement("ul",{className:"pagination"},l.map(function(e){return r.a.createElement("li",{key:e,className:t===e?"page-item active":"page-item",onClick:function(){return a(e)}},r.a.createElement("button",{className:"page-link"},e))})))},C=function(e){var t=e.btnClick,a=e.isRenderGallery;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"submit",className:a?"btn btn-primary":"btn btn-secondary",onClick:t},r.a.createElement("i",{className:"fa fa-table","aria-hidden":"true"})),r.a.createElement("button",{type:"submit",className:a?"btn btn-secondary":"btn btn-primary",onClick:t},r.a.createElement("i",{className:"fa fa-list","aria-hidden":"true"})))},w=function(e){var t=e.type,a=e.genres||"",n=e.query||"",r=e.page||"1",l=e.sortBy||"popularity.desc",c=e.adult||!0,o="".concat("https://api.themoviedb.org/3/").concat({movie:"search/movie",discoverMovies:"discover/movie",popularPerson:"person/popular",people:"search/person"}[t],"?api_key=").concat("340af08aad86d2a893fef0bc25ea615d","&page=").concat(r,"&sort_by=").concat(l,"&query=").concat(n,"&with_genres=").concat(a,"&include_adult=").concat(c);return fetch(o).then(function(e){return e.json()})},j=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],O=function(e){var t=e.data,a=e.handleChacked,n=e.statusData;return r.a.createElement("div",{className:"m-1 p-1"},t.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("input",{className:"m-1",type:"checkbox",id:e.id,name:e.name,value:e.id,onChange:a,checked:n[e.id]||!1}),r.a.createElement("label",{className:"m-1",htmlFor:e.id}," ",e.name))}))},I=function(e){var t=e.type,a=e.placeholder,n=e.value,l=e.handleInputChange;return r.a.createElement("input",{className:"form-control m-1 p-1",type:t,placeholder:a,value:n,onChange:l})},S=function(e){var t=e.value,a=e.searchChange,n=e.acceptSearch,l=e.handleChacked,c=e.filteredGenres,o=e.acceptGenresSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{type:"text",placeholder:"Search Movie",value:t,handleInputChange:a}),r.a.createElement("button",{type:"submit",className:"btn btn-primary m-1",onClick:n},"Search by title"),r.a.createElement(O,{data:j,handleChacked:l,statusData:c}),r.a.createElement("button",{type:"submit",className:"btn btn-primary m-1",onClick:o},"Search by genres"))},P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],currentPage:1,totalPages:13,value:"",filter:{genres:{}},searchType:"discoverMovies",movieQuery:"",genresQuery:"",isRenderGallery:!0},a.handlePageClick=function(e){var t=a.state,n=t.genresQuery,r=t.movieQuery,l=t.searchType;w({type:l,genres:n,page:e,query:r}).then(function(t){return a.setState({data:t.results,currentPage:e})})},a.handleInput=function(e){a.setState({value:e.target.value})},a.handleChangeView=function(){a.setState({isRenderGallery:!a.state.isRenderGallery})},a.handleChacked=function(e){var t=Object(d.a)({},a.state.filter.genres);t[e.target.id]=!t[e.target.id],a.setState({filter:{genres:t}})},a.handleTitleSearch=function(){var e=a.state.value.toLowerCase();w({type:"movie",query:e}).then(function(t){console.log("fetchingData",t),a.setState({data:t.results,searchType:"movie",totalPages:t.total_pages,movieQuery:e,currentPage:1})})},a.handleGenresSearch=function(){var e=Object(d.a)({},a.state.filter.genres),t=y(e);w({type:"discoverMovies",genres:t}).then(function(e){return a.setState({data:e.results,searchType:"discoverMovies",totalPages:e.total_pages,genresQuery:t,currentPage:1})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.currentPage;w({type:"discoverMovies",page:t}).then(function(t){return e.setState({data:t.results,totalPages:t.total_pages})})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isRenderGallery;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h2",null,"Tatal pages of Movies = ",this.state.totalPages,", current page -"," ",this.state.currentPage),r.a.createElement("div",null,r.a.createElement(C,{btnClick:this.handleChangeView,isRenderGallery:a}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(S,{value:this.state.value,searchChange:this.handleInput,acceptSearch:this.handleTitleSearch,handleChacked:this.handleChacked,filteredGenres:this.state.filter.genres,acceptGenresSearch:this.handleGenresSearch})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"d-flex flex-wrap"},r.a.createElement(E,{data:t,cardType:"movie",title:"title",posterPath:"poster_path",isRenderGallery:a})),r.a.createElement(N,{totalPages:this.state.totalPages,currentPage:this.state.currentPage,onClick:this.handlePageClick}))))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],searchType:"popularPerson",currentPage:1,isRenderGallery:!0,totalPages:1,value:"",actorQuery:""},a.handlePageClick=function(e){var t=a.state.searchType;w({type:t,page:e}).then(function(t){return a.setState({data:t.results,currentPage:e})})},a.handleChangeView=function(){a.setState({isRenderGallery:!a.state.isRenderGallery})},a.handleInput=function(e){a.setState({value:e.target.value})},a.handleTitleSearch=function(){var e=a.state.value.toLowerCase();w({type:"people",query:e}).then(function(t){console.log("fetchingData",t),a.setState({data:t.results,searchType:"people",totalPages:t.total_pages,actorQuery:e,currentPage:1})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={page:"1",type:this.state.searchType};w(t).then(function(t){return e.setState({data:t.results,totalPages:t.total_pages})})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isRenderGallery,n=e.value;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h2",null,"Tatal pages of People = ",this.state.totalPages,", current page -"," ",this.state.currentPage),r.a.createElement("div",null,r.a.createElement(C,{btnClick:this.handleChangeView,isRenderGallery:a})),r.a.createElement("div",null,r.a.createElement(I,{type:"text",placeholder:"Search Movie",value:n,handleInputChange:this.handleInput}),r.a.createElement("button",{type:"submit",className:"btn btn-primary m-1",onClick:this.handleTitleSearch},"Search by name"))),r.a.createElement(E,{data:t,cardType:"people",title:"name",posterPath:"profile_path",isRenderGallery:a}),r.a.createElement(N,{totalPages:this.state.totalPages,currentPage:this.state.currentPage,onClick:this.handlePageClick}))}}]),t}(n.Component),x=a(12),D=a.n(x);D.a.initializeApp({apiKey:"AIzaSyBWk3fur0gj0umQq-5vXT10qRvgvOW7izM",authDomain:"react-movie-app-cc9d9.firebaseapp.com",databaseURL:"https://react-movie-app-cc9d9.firebaseio.com",projectId:"react-movie-app-cc9d9",storageBucket:"react-movie-app-cc9d9.appspot.com",messagingSenderId:"70150364865"});var A=D.a,M=(D.a.database(),function(e,t){D.a.database().ref(e).set(t)}),_=function(e,t){D.a.database().ref(e).set(t)},F=function(e){D.a.database().ref(e).remove().then(function(){console.log("Remove succeeded.")}).catch(function(e){console.log("Remove failed: "+e.message)})},R=function(e,t){D.a.database().ref(e).update(t).then(function(){console.log("Update succeeded.")}).catch(function(e){console.log("Update failed: "+e.message)})},G=function(e){return D.a.database().ref(e).once("value").then(function(e){return e.val()})},L=function(e){var t=e.onChange,a=e.commentText,n=e.onClickCancel,l=e.onClickAccept;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"row"},r.a.createElement("div",{className:"form-group col-8 m-1"},r.a.createElement("label",{htmlFor:"textarea"},"Edit your comment"),r.a.createElement("textarea",{className:"form-control",id:"textarea",rows:"3",value:a,onChange:t})),r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"submit",className:"btn btn-success m-1",onClick:l},"Accept"),r.a.createElement("button",{type:"submit",className:"btn btn-warning m-1",onClick:n},"Cancel"))),r.a.createElement("hr",null))},U=function(e){var t=e.data,a=e.commentId,n=e.userId,l=e.onClickDelete,c=e.onClickEdit;return r.a.createElement(r.a.Fragment,null,console.log("data comment = ",t,"commentId",a,"userId",n),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("blockquote",{className:"blockquote"},r.a.createElement("p",{className:"mb-0"},t[a].text),r.a.createElement("footer",{className:"blockquote-footer"},"Written by ",t[a].authorName," on the"," ",r.a.createElement("cite",{title:"Source Title"},function(e){var t=new Date(+e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" at "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}(a)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-success m-1",disabled:!(n==t[a].authorUID),onClick:c},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger m-1",disabled:!(n==t[a].authorUID),onClick:l},"Delete"))),r.a.createElement("hr",null))},q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={commentId:"",isEdit:!1,value:""},a.handleDeleteComment=function(e){var t=a.props,n=t.commentTo,r=t.contentId,l="".concat(n,"/").concat(r,"/comments/").concat(e);F(l)},a.handleEditComment=function(e,t){a.setState({commentId:e,isEdit:!0,value:t}),console.log("commentId",e)},a.handleCommentText=function(e){a.setState({value:e.target.value})},a.handleEditAccept=function(e){e.preventDefault();var t=a.props,n=t.commentTo,r=t.contentId,l=a.state,c=l.value,o=l.commentId,s="".concat(n,"/").concat(r,"/comments/").concat(o);console.log("URL",s),R(s,{text:c}),a.setState({isEdit:!1})},a.handleEditCancel=function(e){e.preventDefault(),a.setState({isEdit:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.commentId,l=t.userId,c=this.state,o=c.isEdit,s=c.value;return console.log("data",a,"commentId",n,"userId",l),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(L,{onChange:this.handleCommentText,commentText:s,onClickAccept:this.handleEditAccept,onClickCancel:this.handleEditCancel}):r.a.createElement(U,{data:a,commentId:n,userId:l,onClickDelete:function(){return e.handleDeleteComment(n)},onClickEdit:function(){return e.handleEditComment(n,a[n].text)}}))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.id,data:{},commentText:"",userId:null},a.handleCommentText=function(e){a.setState({commentText:e.target.value})},a.handleAddComment=function(e){e.preventDefault();var t=A.auth().currentUser,n=a.state.id,r=+new Date,l=a.state.commentText,c={authorName:t.displayName,authorUID:t.uid,text:l},o="".concat(a.props.commentTo,"/").concat(n,"/comments/").concat(r);a.setState({commentText:""}),M(o,c)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(this.props.commentTo,"/").concat(this.state.id,"/comments"),a=k();A.database().ref(t).on("value",function(t){e.setState({data:t.val(),userId:a})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.userId,l=a?Object.keys(a):[];return r.a.createElement("div",{className:"container w-50"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"textarea"},"Your comment"),r.a.createElement("textarea",{className:"form-control",id:"textarea",rows:"3",value:this.state.commentText,onChange:this.handleCommentText})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleAddComment},"Add comment")),r.a.createElement("div",{className:"w-100 m-3"},l.map(function(t){return r.a.createElement(q,{key:t,data:a,commentId:t,contentId:e.state.id,userId:n,commentTo:e.props.commentTo})})))}}]),t}(n.Component),Q=function(e){var t="fa fa-heart";return e.liked||(t+="-o"),r.a.createElement("h4",null,r.a.createElement("p",{className:"badge badge-primary m-1"},e.liked?"This ".concat(e.content," in your favorites: "):"Click to add to favorites: ",r.a.createElement("span",{onClick:e.onClick,style:{cursor:"pointer"},className:t,"aria-hidden":"true"})))},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},movieId:a.props.match.params.id,videos:{results:[]},liked:!1,title:"",userID:""},a.handleFavorites=function(){var e=a.state,t=e.movieId,n=e.liked,r=e.data,l=k(),c={liked:!n,title:r.title,id:t,raiting:r.vote_average};_("users/"+l+"/favorites/movies/"+t,c),a.setState({liked:!n})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=k(),a="users/"+t+"/favorites/movies/"+this.state.movieId;fetch("https://api.themoviedb.org/3/movie/".concat(this.state.movieId,"?api_key=340af08aad86d2a893fef0bc25ea615d&language=en-US")).then(function(e){return e.json()}).then(function(a){return e.setState({data:a,userID:t})}),G(a).then(function(t){return t?e.setState({liked:t.liked}):null})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.movieId,n=e.liked,l=(e.videos,e.userID);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:"Poster"}),r.a.createElement("h2",null,t.title),l&&r.a.createElement(Q,{onClick:this.handleFavorites,liked:n,content:"movie"}),r.a.createElement("p",null,t.overview)),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(t.backdrop_path),className:"img-fluid",alt:"Responsive"}),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg. vote"),r.a.createElement("td",null,t.vote_average)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Genres"),r.a.createElement("td",null,t.genres?t.genres.map(function(e){return e.name}).join(", "):null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Release date"),r.a.createElement("td",null,t.release_date?t.release_date.split("-").join("."):null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Production countries"),r.a.createElement("td",null,t.production_countries?t.production_countries.map(function(e){return e.name}).join(", "):null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Original language"),r.a.createElement("td",null,t.original_language?t.original_language.toUpperCase():null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Runtime"),r.a.createElement("td",null,t.runtime," minutes"))))))),r.a.createElement(H,{id:a,commentTo:"movie"}))}}]),t}(n.Component),Y=a(11),B=a.n(Y),J=a(14),V=function(){var e=Object(J.a)(B.a.mark(function e(t,a,n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={errors:null,success:!1},!(t&&a&&n)){e.next=4;break}return e.next=4,A.auth().createUserWithEmailAndPassword(t,a).then(function(e){e.user.updateProfile({displayName:n}).then(function(){K(e.user)}),r.success=!0}).catch(function(e){r.errors={errorCode:e.code,errorMessage:e.message}});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(J.a)(B.a.mark(function e(t,a){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={success:!0,errors:{}},!t||!a){e.next=4;break}return e.next=4,A.auth().signInWithEmailAndPassword(t,a).catch(function(e){n.errors={errorCode:e.code,errorMessage:e.message},n.success=!1});case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),$=function(){A.auth().signOut().then(function(){console.log("Sign-out successful.")})},K=function(){var e=Object(J.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.database().ref("users/"+t.uid).set({name:t.displayName});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),X=a(64),Z=function(e){var t=e.isAuth,a=e.profileName;return r.a.createElement("nav",{className:"navbar navbar-expand-sm  navbar-dark bg-dark mb-2"},r.a.createElement(X.a,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:"https://www.themoviedb.org/assets/1/v4/logos/408x161-powered-by-rectangle-green-bb4301c10ddc749b4e79463811a68afebeae66ef43d17bcfd8ff0e60ded7ce99.png",alt:"logo",width:"150",height:"70"})),r.a.createElement("div",{className:"navbar-my"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link",to:"/"},"Movie DB")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link",to:"/people-data-base"},"People DB")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link",to:"/profile"},"Profile ".concat(a))),!t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link",to:"/login"},"Login")),t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link",to:"/login"},r.a.createElement("button",{className:"btn btn-outline-success",type:"button",onClick:function(){return $()}},"Logout"))))))},ee=function(){return r.a.createElement("h1",null,"404 Not Found")},te=function(e){var t=e.data,a=e.content,n=e.contentType;return r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Avg. rating"),r.a.createElement("th",{scope:"col"},"Link"))),r.a.createElement("tbody",null,console.log("data in table ",t),Object.keys(t.favorites[n]).filter(function(e){return t.favorites[n][e].liked}).map(function(e){var l=t.favorites[n][e],c=l.id,o=l.title,s=l.raiting;return console.log("props = ",c,o,s),r.a.createElement("tr",{key:c},r.a.createElement("th",{scope:"row"},c),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement(p.a,{className:"btn btn-primary",to:"/".concat(a,"/").concat(c)},"Details")))})))},ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},data:{}},a.handleLogout=function(){a.props.clearLoginData(),$()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="users/".concat(this.props.user.uid);G(t).then(function(t){return e.setState({data:t,user:e.props.user})}),this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",{className:"container m-3"},r.a.createElement("div",{className:"row d-flex justify-content-between m-2"},r.a.createElement("h1",null,"Hello, ",this.state.user.displayName),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleLogout},"Logout")),r.a.createElement("div",null,r.a.createElement("h2",null,"Your favorites movies:"),void 0!==e.favorites?r.a.createElement(te,{data:this.state.data,content:"movie",contentType:"movies"}):r.a.createElement("h3",null,"You donn't have favorites movies"),r.a.createElement("h2",null,"Your favorites actors:"),void 0!==e.favorites?r.a.createElement(te,{data:this.state.data,content:"people",contentType:"people"}):r.a.createElement("h3",null,"You donn't have favorites actors")))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",errors:{}},a.handleLogin=function(){var e=Object(J.a)(B.a.mark(function e(t){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,z(a.state.email,a.state.password);case 3:!0===(n=e.sent).success?a.props.history.push("/profile"):a.setState({errors:{errorCode:n.errors.errorCode,errorMessage:n.errors.errorMessage}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleInput=function(e){var t=Object(d.a)({},a.state);t[e.currentTarget.type]=e.currentTarget.value,a.setState(Object(d.a)({},t))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"auth/invalid-email"===n.errorCode||"auth/user-not-found"===n.errorCode?"form-control is-invalid":"form-control",placeholder:"Enter email",value:t,onChange:this.handleInput}),"auth/user-not-found"===n.errorCode||"auth/invalid-email"===n.errorCode?r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},n.errorMessage):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"auth/wrong-password"===n.errorCode?"form-control is-invalid":"form-control",placeholder:"Password",value:a,onChange:this.handleInput}),"auth/wrong-password"===n.errorCode?r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},n.errorMessage):null),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleLogin},"Login"),r.a.createElement(p.a,{className:"btn btn-primary",to:"/sign-in"},"Sign In"))))))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",errors:{}},a.handleSignIn=function(){var e=Object(J.a)(B.a.mark(function e(t){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V(a.state.email,a.state.password,a.state.name);case 3:(n=e.sent).success?(console.log("All fine!!!"),a.props.history.push("/")):(console.log(n.errors.errorCode,n.errors.errorMessage),a.setState({errors:{errorCode:n.errors.errorCode,errorMessage:n.errors.errorMessage}}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleInput=function(e){var t=Object(d.a)({},a.state);t[e.currentTarget.id]=e.currentTarget.value,a.setState(Object(d.a)({},t))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.name,l=e.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group is-invalid"},r.a.createElement("label",{htmlFor:"name"},"Your full name"),r.a.createElement("input",{id:"name",type:"text",className:"form-control",placeholder:"Your full name",value:n,onChange:this.handleInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{id:"email",type:"email",className:"auth/email-already-in-use"===l.errorCode||"auth/invalid-email"===l.errorCode?"form-control is-invalid":"form-control",placeholder:"Enter email",value:t,onChange:this.handleInput}),"auth/email-already-in-use"===l.errorCode||"auth/invalid-email"===l.errorCode?r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},l.errorMessage):r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group is-invalid"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",type:"password",className:"auth/weak-password"===l.errorCode?"form-control is-invalid":"form-control",placeholder:"Password",value:a,onChange:this.handleInput}),"auth/weak-password"===l.errorCode?r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},l.errorMessage):null),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSignIn},"Sign In")))))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},peopleId:a.props.match.params.id,liked:!1,userID:""},a.handleFavorites=function(){var e=a.state,t=e.peopleId,n=e.liked,r=e.data,l=k(),c={liked:!n,title:r.name,id:t,raiting:r.popularity};_("users/"+l+"/favorites/people/"+t,c),a.setState({liked:!n})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=k(),a="users/"+t+"/favorites/people/"+this.state.peopleId;fetch("https://api.themoviedb.org/3/person/".concat(this.state.peopleId,"?api_key=340af08aad86d2a893fef0bc25ea615d&language=en-US")).then(function(e){return e.json()}).then(function(a){return e.setState({data:a,userID:t})}),G(a).then(function(t){return t?e.setState({liked:t.liked}):null})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.peopleId,n=e.liked,l=e.userID;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(t.profile_path),alt:"Poster"}),l&&r.a.createElement(Q,{onClick:this.handleFavorites,liked:n,content:"actor"})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h1",null,t.name),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Place of birth"),r.a.createElement("td",null,t.place_of_birth)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Popularity"),r.a.createElement("td",null,t.popularity)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Birthday"),r.a.createElement("td",null,t.birthday?t.birthday.split("-").join("."):null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Homepage"),r.a.createElement("td",null,t.homepage)))),r.a.createElement("p",null,t.biography)))),r.a.createElement(H,{id:a,commentTo:"people"}))}}]),t}(n.Component),ce=a(26),oe=a(62),se=a(65),ie=function(e){var t=e.component,a=e.isAuth,n=Object(ce.a)(e,["component","isAuth"]);return r.a.createElement(oe.a,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(se.a,{to:"/login"})}})},me=a(67),ue=(a(55),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{isAuth:!1,uid:"",userName:""},curreentUser:{}},a.setLoginData=function(e){a.setState({user:e})},a.clearLoginData=function(){a.setState({user:{isAuth:!1,uid:""}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.auth().onAuthStateChanged(function(t){t?(console.log("user",t),e.setState({user:{isAuth:!0,uid:t.uid,email:t.email,userName:t.displayName},curreentUser:t}),document.cookie="userid=".concat(t.uid)):(console.log("no user"),e.setState({user:{isAuth:!1,uid:"",userName:""}}))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.curreentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{isAuth:a.isAuth,profileEmail:a.email,profileName:a.userName}),r.a.createElement(me.a,null,r.a.createElement(oe.a,{path:"/movie/:id",component:W}),r.a.createElement(oe.a,{path:"/people/:id",component:le}),r.a.createElement(oe.a,{path:"/people-data-base",component:T}),r.a.createElement(oe.a,{path:"/not-found",component:ee}),r.a.createElement(oe.a,{path:"/sign-in",component:re}),r.a.createElement(ie,{path:"/profile",isAuth:a.isAuth,user:n,component:ae}),r.a.createElement(oe.a,{path:"/login",render:function(t){return r.a.createElement(ne,Object.assign({getUserData:e.setLoginData},t))}}),r.a.createElement(oe.a,{path:"/",exact:!0,component:P}),r.a.createElement(se.a,{to:"/not-found"})))}}]),t}(n.Component)),de=a(66);a(57),a(59);c.a.render(r.a.createElement(de.a,null,r.a.createElement(ue,null)),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.d060a2f9.chunk.js.map