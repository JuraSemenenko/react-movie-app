(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(54)},28:function(e,a,t){},50:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(22),l=t.n(c),i=(t(28),t(6)),o=t(7),s=t(9),m=t(8),u=t(10),d=t(18),h=t.n(d),v=function(e){var a=e.movieCount,t=e.currentPage,n=e.movieOnPage,c=e.onClick,l=Math.ceil(a/n),i=t<6?h.a.range(1,11):h.a.range(t-5,t+5<l?t+5:l);return r.a.createElement("nav",{className:"d-flex justify-content-center"},r.a.createElement("ul",{className:"pagination"},i.map(function(e){return r.a.createElement("li",{key:e,className:t===e?"page-item active":"page-item",onClick:function(){return c(e)}},r.a.createElement("button",{className:"page-link"},e))})))},p=t(31),g=function(e){var a=e.title,t=e.id,n=e.posterPath;return r.a.createElement("div",{className:"card col-xl-3"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"Poster"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement(p.a,{className:"btn btn-primary",to:"/movie/".concat(t)},"Details")))},f=function(e){var a=e.data,t=e.pageInfo,n=e.movieOnPage,c=a.slice((t-1)*n,t*n+n);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},c.map(function(e){return r.a.createElement(g,{key:e.id,id:e.id,title:e.title,posterPath:e.poster_path})})))},E=t(32),b=t.n(E);b.a.initializeApp({apiKey:"AIzaSyBWk3fur0gj0umQq-5vXT10qRvgvOW7izM",authDomain:"react-movie-app-cc9d9.firebaseapp.com",databaseURL:"https://react-movie-app-cc9d9.firebaseio.com",projectId:"react-movie-app-cc9d9",storageBucket:"react-movie-app-cc9d9.appspot.com",messagingSenderId:"70150364865"});var y=b.a,N=b.a.database(),O=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:[],currentPage:1,movieOnPage:20},t.handlePageClick=function(e){t.setState({currentPage:e})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.ref().on("value",function(a){e.setState({data:a.val().movies})})}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.movieOnPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(f,{data:a,pageInfo:this.state.currentPage,movieOnPage:t}),r.a.createElement(v,{movieCount:a.length,currentPage:this.state.currentPage,onClick:this.handlePageClick,movieOnPage:t})))}}]),a}(n.Component),k=t(14),j=function(e){var a=e.data,t=e.handleChacked,n=e.statusData;return r.a.createElement(r.a.Fragment,null,a.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("input",{type:"checkbox",id:e.id,name:e.name,value:e.id,onChange:t,checked:n[e.id]||!1}),r.a.createElement("label",{htmlFor:e.id}," ",e.name))}))},w="340af08aad86d2a893fef0bc25ea615d",P=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],C=function(e,a){if("byTitle"){return fetch("".concat("https://api.themoviedb.org/3/search/movie?","api_key=").concat(w,"&query=").concat(e,"&page=1")).then(function(e){return e.json()})}if("byGenres"){return fetch("".concat("https://api.themoviedb.org/3/discover/movie?","api_key=").concat(w,"&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=false&page=1&with_genres=").concat(e)).then(function(e){return e.json()})}},S=function(e){var a=[];for(var t in e)e[t]&&a.push(t);return a.join(",")},A=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:[],currentPage:1,value:"",movieOnPage:20,filter:{genres:{}}},t.handlePageClick=function(e){t.setState({currentPage:e})},t.handleInput=function(e){t.setState({value:e.target.value})},t.handleChacked=function(e){var a=Object(k.a)({},t.state.filter.genres);a[e.target.id]=!a[e.target.id],t.setState({filter:{genres:a}})},t.handleTitleSearch=function(){var e=t.state.value.toLowerCase();C(e,"byGenres").then(function(e){return t.setState({data:e.results})})},t.handleGenresSearch=function(e){e.preventDefault();var a=Object(k.a)({},t.state.filter.genres),n=S(a);C(n,"byGenres").then(function(e){return t.setState({data:e.results})})},t.movieFilter=function(){var e=t.state,a=e.value,n=e.data,r=n.filter(function(e){return-1!==e.title.toLowerCase().indexOf(a.toLowerCase())});return a?r:n},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.ref().on("value",function(a){e.setState({data:a.val().movies})})}},{key:"render",value:function(){var e=this.movieFilter();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Search Movie",value:this.state.value,onChange:this.handleInput}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleTitleSearch},"Search by title"),r.a.createElement(j,{data:P,handleChacked:this.handleChacked,statusData:this.state.filter.genres}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleGenresSearch},"Search by genres")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(f,{data:e,pageInfo:this.state.currentPage,movieOnPage:this.state.movieOnPage}),r.a.createElement(v,{movieCount:e.length,currentPage:this.state.currentPage,onClick:this.handlePageClick,movieOnPage:this.state.movieOnPage}))))}}]),a}(n.Component),D=function(){return r.a.createElement("h1",null,"Selections")},I=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={data:{},movieId:t.props.match.params.id},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/movie/".concat(this.state.movieId,"?api_key=340af08aad86d2a893fef0bc25ea615d&language=en-US")).then(function(e){return e.json()}).then(function(a){return e.setState({data:a})})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"Poster"}),r.a.createElement("h2",null,e.title)),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.backdrop_path),className:"img-fluid",alt:"Responsive"}),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg. vote"),r.a.createElement("td",null,this.state.data.vote_average)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg. vote"),r.a.createElement("td",null,this.state.data.vote_average)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg. vote"),r.a.createElement("td",null,this.state.data.vote_average)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg. vote"),r.a.createElement("td",null,this.state.data.vote_average))))))))}}]),a}(n.Component),L=t(57),_=function(e){var a=e.isAuth,t=e.profileEmail;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(L.a,{className:"navbar-brand",to:"/"},"Movies App"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.a,{className:"nav-link",to:"/"},"Popular")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.a,{className:"nav-link",to:"/filter"},"All Movies")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.a,{className:"nav-link",to:"selections"},"Selections")),a?r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.a,{className:"nav-link",to:"/profile"},"Profile ".concat(t))):r.a.createElement("li",{className:"nav-item"},r.a.createElement(L.a,{className:"nav-link",to:"/login"},"Login")))))},x=function(){return r.a.createElement("h1",null,"404 Not Found")},F=function(e,a){e&&a&&y.auth().createUserWithEmailAndPassword(e,a).catch(function(e){var a=e.code,t=e.message;console.log(a,t)})},M=function(e,a){e&&a&&y.auth().signInWithEmailAndPassword(e,a).catch(function(e){var a=e.code,t=e.message;console.log(a,t)})},T=function(){y.auth().signOut().then(function(){console.log("Sign-out successful.")})},W=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleLogout=function(){t.props.clearLoginData(),T()},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Profile"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleLogout},"Logout"))}}]),a}(n.Component),G=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:""},t.handleLogin=function(e){e.preventDefault(),M(t.state.email,t.state.password),t.props.history.push("/")},t.handleSignin=function(e){e.preventDefault(),F(t.state.email,t.state.password),t.props.history.push("/")},t.handleInput=function(e){var a=Object(k.a)({},t.state);a[e.currentTarget.type]=e.currentTarget.value,t.setState(Object(k.a)({},a))},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",value:a,onChange:this.handleInput}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:t,onChange:this.handleInput})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleLogin},"Login"),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSignin},"Sign In")))))}}]),a}(n.Component),U=t(60),B=t(55),R=t(58),q=(t(50),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={user:{isAuth:!1,uid:""}},t.setLoginData=function(e){t.setState({user:e})},t.clearLoginData=function(){t.setState({user:{isAuth:!1,uid:""}})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.auth().onAuthStateChanged(function(a){a?e.setState({user:{isAuth:!0,uid:a.uid,email:a.email}}):e.setState({user:{}})})}},{key:"render",value:function(){var e=this,a=this.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{isAuth:a.isAuth,profileEmail:a.email}),r.a.createElement(U.a,null,r.a.createElement(B.a,{path:"/movie/:id",component:I}),r.a.createElement(B.a,{path:"/filter",component:A}),r.a.createElement(B.a,{path:"/selections",component:D}),r.a.createElement(B.a,{path:"/not-found",component:x}),r.a.createElement(B.a,{path:"/profile",render:function(a){return r.a.createElement(W,Object.assign({clearLoginData:e.clearLoginData},a))}}),r.a.createElement(B.a,{path:"/login",render:function(a){return r.a.createElement(G,Object.assign({getUserData:e.setLoginData},a))}}),r.a.createElement(B.a,{path:"/",exact:!0,component:O}),r.a.createElement(R.a,{to:"/not-found"})))}}]),a}(n.Component)),z=t(59);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(52);l.a.render(r.a.createElement(z.a,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.aed3344a.chunk.js.map